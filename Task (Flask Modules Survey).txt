–û–ø—Ä–æ—Å –ø–æ –º–æ–¥—É–ª—è–º Flask

–û—Ç–≤–µ—Ç—ã –Ω–∞ –∑–∞–¥–∞–Ω–∏–µ 

–û—Ç–≤–µ—Ç –Ω–∞ –ø. 1. –†–∞–±–æ—Ç–∞ —Å —Ñ–æ—Ä–º–∞–º–∏ (Flask-WTF)

 –ó–∞–¥–∞—á–∞: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –ø–æ–ª—è–º–∏

* –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
* –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞
* –ü–∞—Ä–æ–ª—å
* –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
  **+ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ–ª–µ–π**



# `forms.py` ‚Äî **–§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏**

from flask_wtf import FlaskForm  # –ò–º–ø–æ—Ä—Ç –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ —Ñ–æ—Ä–º—ã –∏–∑ Flask-WTF
from wtforms import StringField, PasswordField, SubmitField  # –ò–º–ø–æ—Ä—Ç –Ω—É–∂–Ω—ã—Ö –ø–æ–ª–µ–π —Ñ–æ—Ä–º—ã
from wtforms.validators import DataRequired, Email, EqualTo, Length  # –ò–º–ø–æ—Ä—Ç –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤

# –ö–ª–∞—Å—Å —Ñ–æ—Ä–º—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
class RegistrationForm(FlaskForm):
    username = StringField('–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è', validators=[
        DataRequired(),         # –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
        Length(min=3, max=25)   # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª–∏–Ω—ã
    ])
    
    email = StringField('–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞', validators=[
        DataRequired(),         # –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
        Email()                 # –í–∞–ª–∏–¥–∞—Ç–æ—Ä —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã
    ])
    
    password = PasswordField('–ü–∞—Ä–æ–ª—å', validators=[
        DataRequired(),         # –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
        Length(min=6)           # –ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤
    ])
    
    confirm_password = PasswordField('–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è', validators=[
        DataRequired(),
        EqualTo('password')     # –ó–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –ø–æ–ª–µ–º password
    ])
    
    submit = SubmitField('–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è')  # –ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏



# `templates/register.html` ‚Äî **HTML —Ñ–æ—Ä–º–∞ —Å –≤—ã–≤–æ–¥–æ–º –æ—à–∏–±–æ–∫**


<form method="POST">  <!-- –§–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –º–µ—Ç–æ–¥–æ–º POST -->
    {{ form.hidden_tag() }}  <!-- –¢–æ–∫–µ–Ω CSRF –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ -->
    
    <p>
        {{ form.username.label }}<br>
        {{ form.username() }}<br>
        {% for error in form.username.errors %}  <!-- –í—ã–≤–æ–¥ –æ—à–∏–±–æ–∫ –ø–æ–ª—è username -->
            <span style="color:red;">{{ error }}</span>
        {% endfor %}
    </p>
    
    <p>
        {{ form.email.label }}<br>
        {{ form.email() }}<br>
        {% for error in form.email.errors %}
            <span style="color:red;">{{ error }}</span>
        {% endfor %}
    </p>
    
    <p>
        {{ form.password.label }}<br>
        {{ form.password() }}<br>
        {% for error in form.password.errors %}
            <span style="color:red;">{{ error }}</span>
        {% endfor %}
    </p>
    
    <p>
        {{ form.confirm_password.label }}<br>
        {{ form.confirm_password() }}<br>
        {% for error in form.confirm_password.errors %}
            <span style="color:red;">{{ error }}</span>
        {% endfor %}
    </p>
    
    <p>{{ form.submit() }}</p>  <!-- –ö–Ω–æ–ø–∫–∞ -->
</form>



# `app.py` ‚Äî **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±–∞–∑—É**


from flask import Flask, render_template, redirect, url_for, flash
from forms import RegistrationForm
from flask_sqlalchemy import SQLAlchemy

app = Flask(__name__)
app.secret_key = 'secret'  # –ö–ª—é—á –¥–ª—è CSRF –∏ —Å–µ—Å—Å–∏–π

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö SQLite
app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///users.db'
db = SQLAlchemy(app)  # –û–±—ä–µ–∫—Ç –±–∞–∑—ã

# –ú–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
class User(db.Model):
    id = db.Column(db.Integer, primary_key=True)
    username = db.Column(db.String(25), nullable=False)
    email = db.Column(db.String(120), unique=True, nullable=False)
    password = db.Column(db.String(60), nullable=False)

# –†–æ—É—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
@app.route('/register', methods=['GET', 'POST'])
def register():
    form = RegistrationForm()
    if form.validate_on_submit():  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ —Ñ–æ—Ä–º—ã
        user = User(
            username=form.username.data,
            email=form.email.data,
            password=form.password.data
        )
        db.session.add(user)     # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –ë–î
        db.session.commit()
        flash('–í—ã —É—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏—Å—å!', 'success')  # –°–æ–æ–±—â–µ–Ω–∏–µ
        return redirect(url_for('login'))  # –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –ª–æ–≥–∏–Ω


# –û—Ç–≤–µ—Ç –Ω–∞ –ø.2. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (Flask-Login)

# `models.py` ‚Äî **–ú–æ–¥–µ–ª—å —Å UserMixin**


from flask_login import UserMixin
from app import db

# UserMixin –¥–æ–±–∞–≤–ª—è–µ—Ç –º–µ—Ç–æ–¥—ã: is_authenticated, get_id –∏ –¥—Ä.
class User(db.Model, UserMixin):
    id = db.Column(db.Integer, primary_key=True)
    username = db.Column(db.String(25), nullable=False)
    email = db.Column(db.String(120), unique=True, nullable=False)
    password = db.Column(db.String(60), nullable=False)




#  `forms.py` ‚Äî **–§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞**

class LoginForm(FlaskForm):
    email = StringField('Email', validators=[DataRequired(), Email()])
    password = PasswordField('–ü–∞—Ä–æ–ª—å', validators=[DataRequired()])
    submit = SubmitField('–í–æ–π—Ç–∏')




# `app.py` ‚Äî **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Flask-Login –∏ –ª–æ–≥–∏–∫–∞ –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞**

from flask_login import LoginManager, login_user, logout_user, login_required, current_user
from forms import LoginForm

login_manager = LoginManager()
login_manager.init_app(app)  # –ü–æ–¥–∫–ª—é—á–∞–µ–º –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é
login_manager.login_view = 'login'  # –ö—É–¥–∞ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö

@login_manager.user_loader
def load_user(user_id):
    return User.query.get(int(user_id))  # –ü–æ–∏—Å–∫ —é–∑–µ—Ä–∞ –ø–æ id

# –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞
@app.route('/login', methods=['GET', 'POST'])
def login():
    form = LoginForm()
    if form.validate_on_submit():
        user = User.query.filter_by(email=form.email.data).first()
        if user and user.password == form.password.data:  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–æ–ª—è
            login_user(user)  # –í—Ö–æ–¥
            return redirect(url_for('dashboard'))
        flash('–ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å', 'danger')
    return render_template('login.html', form=form)

# –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—ã—Ö–æ–¥–∞
@app.route('/logout')
@login_required
def logout():
    logout_user()  # –í—ã—Ö–æ–¥ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ session
    return redirect(url_for('login'))

# –°—Ç—Ä–∞–Ω–∏—Ü–∞, –¥–æ—Å—Ç—É–ø–Ω–∞—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞
@app.route('/dashboard')
@login_required
def dashboard():
    return f'–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {current_user.username}!'




# –û—Ç–≤–µ—Ç –Ω–∞ –ø. 3. –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (Flask Session / Flask-Login)

> Flask-Login —Å–∞–º —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç ID –≤ `session`. –ù–∏–∂–µ ‚Äî –∫–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –∏ –æ—á–∏—Å—Ç–∏—Ç—å.



# –ö–∞–∫ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å ID:


login_user(user)  # –°–æ—Ö—Ä–∞–Ω—è–µ—Ç user_id –≤ session –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏




# –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –≤–æ—à—ë–ª –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:

if current_user.is_authenticated:
    print(current_user.username)
else:




# –ö–∞–∫ –æ—á–∏—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

logout_user()  # –£–¥–∞–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ session




# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

Flask-apps/
‚îú‚îÄ‚îÄ app.py
‚îú‚îÄ‚îÄ forms.py
‚îú‚îÄ‚îÄ models.py
‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îú‚îÄ‚îÄ register.html
‚îÇ   ‚îú‚îÄ‚îÄ login.html
‚îÇ   ‚îî‚îÄ‚îÄ dashboard.html
‚îú‚îÄ‚îÄ users.db


# –û—Ç–≤–µ—Ç –Ω–∞ –ø.4. –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö (Flask-SQLAlchemy)**

# –ó–∞–¥–∞—á–∞: —Å–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å `BlogPost` —Å –ø–æ–ª—è–º–∏:

* `id`: —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä
* `title`: –∑–∞–≥–æ–ª–æ–≤–æ–∫
* `content`: —Ç–µ–∫—Å—Ç
* `date_created`: –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
* `author_id`: —Å–≤—è–∑—å —Å —Ç–∞–±–ª–∏—Ü–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π



# `models.py` ‚Äî –º–æ–¥–µ–ª—å –ø–æ—Å—Ç–∞

from app import db
from datetime import datetime

# –ú–æ–¥–µ–ª—å –¥–ª—è –∑–∞–ø–∏—Å–µ–π –±–ª–æ–≥–∞
class BlogPost(db.Model):
    id = db.Column(db.Integer, primary_key=True)  # –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID
    title = db.Column(db.String(100), nullable=False)  # –ó–∞–≥–æ–ª–æ–≤–æ–∫, –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
    content = db.Column(db.Text, nullable=False)  # –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç, –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
    date_created = db.Column(db.DateTime, default=datetime.utcnow)  # –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
    author_id = db.Column(db.Integer, db.ForeignKey('user.id'), nullable=False)  
    # –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á –Ω–∞ id –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —Ç–∞–±–ª–∏—Ü—ã user

# –ú–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –µ—Å–ª–∏ –µ–µ –µ—â—ë –Ω–µ—Ç
from flask_login import UserMixin

class User(db.Model, UserMixin):
    id = db.Column(db.Integer, primary_key=True)
    username = db.Column(db.String(25), unique=True, nullable=False)
    posts = db.relationship('BlogPost', backref='author', lazy=True)
    # –°–≤—è–∑—å "–æ–¥–∏–Ω-–∫–æ-–º–Ω–æ–≥–∏–º" ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å -> —Å–ø–∏—Å–æ–∫ –ø–æ—Å—Ç–æ–≤




#–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ

# `app.py` (–≤–Ω–∏–∑—É)


with app.app_context():
    db.create_all()  # –°–æ–∑–¥–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—ã –ø–æ –º–æ–¥–µ–ª—è–º, –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç




# –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –∑–∞–ø–∏—Å—è–º–∏ –±–ª–æ–≥–∞

# –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è


user = User.query.filter_by(username='Ivan').first()  # –ù–∞—Ö–æ–¥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è


# –î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å

new_post = BlogPost(title="–ü—Ä–∏–≤–µ—Ç", content="–ú–æ–π –ø–µ—Ä–≤—ã–π –ø–æ—Å—Ç", author_id=user.id)
db.session.add(new_post)   # –î–æ–±–∞–≤–ª—è–µ–º –ø–æ—Å—Ç –≤ —Å–µ—Å—Å–∏—é
db.session.commit()        # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –±–∞–∑—É
```

# –ò–∑–º–µ–Ω–∏—Ç—å –∑–∞–ø–∏—Å—å


post = BlogPost.query.get(1)  # –ü–æ–ª—É—á–∞–µ–º –ø–æ—Å—Ç –ø–æ ID
post.title = "–û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫"
db.session.commit()
```

# –£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å

post = BlogPost.query.get(1)
db.session.delete(post)
db.session.commit()




# –û—Ç–≤–µ—Ç –Ω–∞ –ø. 5. –í—Å–ø–ª—ã–≤–∞—é—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è (Flash)

# `Flask.flash()` ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± –ø–æ–∫–∞–∑–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´—É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ¬ª)



# –ö–∞–∫ –ø–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è:

from flask import flash, redirect, url_for

@app.route('/edit_profile', methods=['POST'])
def edit_profile():
    # –∑–¥–µ—Å—å –ª–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
    flash('–ü—Ä–æ—Ñ–∏–ª—å –æ–±–Ω–æ–≤–ª–µ–Ω', 'success')  # –°–æ–æ–±—â–µ–Ω–∏–µ + –∫–∞—Ç–µ–≥–æ—Ä–∏—è 'success'
    return redirect(url_for('profile'))




# –ö–∞–∫ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –≤ HTML

# `templates/base.html` (–∏–ª–∏ –ª—é–±–æ–π —à–∞–±–ª–æ–Ω)


{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
      <div class="alert alert-{{ category }}">  <!-- bootstrap style -->
        {{ message }}
      </div>
    {% endfor %}
  {% endif %}
{% endwith %}
```

---

# –ü–æ—á–µ–º—É —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑?

* `flash()` –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤–æ **–≤—Ä–µ–º–µ–Ω–Ω—É—é —Å–µ—Å—Å–∏—é**.
* –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ `get_flashed_messages()` –æ–Ω–∏ **—É–¥–∞–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**.
* –≠—Ç–æ —Å–¥–µ–ª–∞–Ω–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ, —á—Ç–æ–±—ã –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –ø–æ—è–≤–ª—è–ª–æ—Å—å –ø–æ–≤—Ç–æ—Ä–Ω–æ –Ω–∞ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ.



# –û—Ç–≤–µ—Ç –Ω–∞ –ø. 6. –û—Å–Ω–æ–≤—ã Flask: –ì–ª–∞–≤–Ω–∞—è, –ü—Ä–æ—Ñ–∏–ª—å, –®–∞–±–ª–æ–Ω—ã**



# –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è

üìÅ `app.py`


from flask import Flask, render_template

@app.route('/')
def index():
    return render_template('index.html')  # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

@app.route('/user/<username>')
def profile(username):
    return render_template('profile.html', username=username)  # –ü–µ—Ä–µ–¥–∞–µ–º –∏–º—è –≤ —à–∞–±–ª–æ–Ω




# `templates/index.html`


{% extends "base.html" %}
{% block content %}
  <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h1>
  <p>–≠—Ç–æ –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–∞–π—Ç–∞.</p>
{% endblock %}




# `templates/profile.html`

{% extends "base.html" %}
{% block content %}
  <h1>–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {{ username }}</h1>
  <p>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –±—É–¥–µ—Ç –∑–¥–µ—Å—å.</p>
{% endblock %}
```

---

# –û–±—â–∏–π —à–∞–±–ª–æ–Ω (–±–∞–∑–æ–≤—ã–π –º–∞–∫–µ—Ç)

# `templates/base.html`


<!DOCTYPE html>
<html>
<head>
    <title>–ú–æ–π —Å–∞–π—Ç</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>

  <header class="bg-dark text-white p-3">
    <div class="container">
      <h1>–ú–æ–π –±–ª–æ–≥</h1>
      <nav>
        <a href="/">–ì–ª–∞–≤–Ω–∞—è</a> | 
        <a href="/user/–ò–≤–∞–Ω">–ü—Ä–æ—Ñ–∏–ª—å</a>
      </nav>
    </div>
  </header>

  <main class="container mt-4">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ category }}">{{ message }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}
    
    {% block content %}{% endblock %}
  </main>

  <footer class="bg-light text-center p-3 mt-4">
    <p>¬© 2025 –ú–æ–π –±–ª–æ–≥</p>
  </footer>

</body>
</html>
